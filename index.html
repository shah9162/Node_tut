<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
</head>

<style>
form {
  max-width: 500px;
  margin: 0 auto;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

input[type="text"],
input[type="email"],
input[type="tel"] {
  display: block;
  width: 100%;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 3px;
  margin-bottom: 10px;
  font-size: 16px;
}

input[type="submit"] {
  display: inline-block;
  background-color: #4CAF50;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 3px;
  font-size: 16px;
  cursor: pointer;
}

input[type="submit"]:hover {
  background-color: #3e8e41;
}

input:invalid {
  border-color: red;
}

input:valid {
  border-color: green;
}

</style>

<body>
    <!-- <form action="http://localhost:5000/celebratecreate" method="POST"> -->
        <form onsubmit="validateForm(event)">
          <!-- <form id="my-form"> -->
        <label for="id">ID:</label>
        <input type="text" id="id" name="id" required><br>
      
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br>
      
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>
      
        <label for="department">Department:</label>
        <input type="text" id="department" name="department" required><br>
        
        <label for="image">Upload Image:</label>
        <input type="file" id="image" name="image" required><br>
        <img src="">

        <label for="age">Age:</label>
        <input type="text" id="age" name="id" required><br>
        
      
        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" pattern="[6-9][0-9]{9}" required><br>
      
        <input type="submit" value="Submit">
      </form>
      
</body>
<script>

function validateForm(event) {
    event.preventDefault();
    alert("form submitted")
    
    // Add your validation logic here
    // You can access the form data using the DOM API, for example:
    const id = parseInt(document.getElementById("id").value);
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const department = document.getElementById("department").value;
    const image = document.getElementById("image").value;
    const age = parseInt(document.getElementById("age").value);
    const phone = document.getElementById("phone").value;
    // fetch(`http://localhost:5000/celebratecreate`)
    // fetch(`https://example.com/api?input=${input}`)

    const url = 'http://localhost:5000/celebratecreate';
  const data = {
    id:id,
    name: name,
    email: email,
    department:department,
    image:image,
    age:age,
    phone:phone
  };
  fetch(url, {
  method: 'POST',
  headers : {'Content-Type':'application/json'},
                    // 'Access-Control-Allow-Origin':'*',
                    // 'Access-Control-Allow-Methods':'POST,PATCH,OPTIONS'},
  body: JSON.stringify(data)
})

  .then(res => res.json())
  .then(data => console.log(data))
  .catch(err => console.error(err));
}


  //   const form = event.target;
  // const formData = new FormData(form);
  // const url = 'http://localhost:5000/celebratecreate';
  // const options = {
  //   method: 'POST',
  //   body: formData,
  // };
  // fetch(url, options)
  //   .then(response => {
  //     if (response.ok) {
  //       alert('Sign up successful!');
  //       form.reset();
  //     } else {
  //       throw new Error('Sign up failed.');
  //     }
  //   })
  //   .catch(error => {
  //     alert(error.message);
  //   });
    
  // }

//   const form = document.getElementById('my-form');
// form.addEventListener('submit', submitForm);

// function submitForm(event){
//   event.preventDefault(); // prevent default form submission behavior
//   const form = event.target;
//   const id = parseInt(form.elements['id'].value);
//   const name = form.elements['name'].value;
//   const email = form.elements['email'].value;
//   const department = form.elements['department'].value;
//   const age = parseInt(form.elements['age'].value);
//   const phone = form.elements['phone'].value;

//   const url = 'http://localhost:5000/celebratecreate';
//   const data = {
//     id:id,
//     name: name,
//     email: email,
//     department:department,
//     age:age,
//     phone:phone
//   };
//   fetch(url, {
//     method: 'POST',
//     body: JSON.stringify(data),
//     // headers: {
//     //   'Content-Type': 'application/json'
//     // }
//   })
//   .then(response => response.json())
//   .then(data => {
//     // handle the API response
//     console.log(data);
//   })
//   .catch(error => {
//     // handle errors
//     console.error(error);
//   });
// }

</script>

</html>